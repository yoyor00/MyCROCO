<?xml version="1.0"?>
<simulation>

	<context id="roms">
		<calendar_type="Gregorian" start_date="2012-03-01 15:00:00" time_origin="2012-02-29 15:00:00" />


		<!-- ========================================================================== -->
		<!-- ========================================================================== -->

		<field_definition src="./field_def.xml"/>

		<!-- ========================================================================== -->
		<!-- ========================================================================== -->

		<file_definition type="one_file"  name="@expname@_@freq@_@startdate@_@enddate@" sync_freq="1h" min_digits="4">		
			<file_group id="120ts" output_freq="120ts"  output_level="10" enabled=".TRUE."> <!-- 1 time step files -->
				<file id="file1" name_suffix="_inst">
					<field_group id="grid_fields" operation="once">
						<field field_ref="hc" />
						<field field_ref="theta_s" />
						<field field_ref="theta_b" />
						<field field_ref="Tcline" />
						<field field_ref="Vtransform" />
						<field field_ref="h" />
						<field field_ref="f" />
						<field field_ref="pm" />
						<field field_ref="pn" />
                        <field field_ref="lon_rho" />
                        <field field_ref="lat_rho" />
                        <field field_ref="lon_u" />
                        <field field_ref="lat_u" />
                        <field field_ref="lon_v" />
                        <field field_ref="lat_v" />
                        <field field_ref="angle" />
                        <field field_ref="mask_rho" />
						<field field_ref="levels_rho" />
						<field field_ref="levels_u" />
						<field field_ref="levels_v" /> 
						<field field_ref="levels_w" />
						<!-- <field field_ref="Cs_r" /> -->
                        <!-- <field field_ref="sc_r" /> -->
                        <!-- <field field_ref="Cs_w" /> -->
                        <!-- <field field_ref="sc_w" /> -->
					</field_group>

					<field_group id="inst_fields" operation="instant" freq_offset="60ts" >
						<field field_ref="zeta" name="zeta" />
						<field field_ref="ubar" name="ubar" />
						<field field_ref="vbar" name="vbar" />
						<field field_ref="sustr" name="sustr" />
						<field field_ref="svstr" name="svstr" />
						<field field_ref="u" name="u" />
						<field field_ref="v" name="v" />
						<field field_ref="w" name="w" />
						<field field_ref="temp" name="T" />
						<field field_ref="salt" name="S" />
						<field field_ref="rho" name="rho" />
					</field_group>

				</file>
			</file_group>
		</file_definition>


		<file_definition type="one_file"  name="@expname@_@freq@_@startdate@_@enddate@" sync_freq="1h" min_digits="4">		
			<file_group id="120ts" output_freq="120ts"  output_level="10" enabled=".TRUE."> <!-- 1 time step files -->
				<file id="file2" name_suffix="_aver">
					<field_group id="grid_fields2" operation="once">
                        <field field_ref="hc" />
                        <field field_ref="theta_s" />
                        <field field_ref="theta_b" />
                        <field field_ref="Tcline" />
                        <field field_ref="Vtransform" />
                        <field field_ref="h" />
                        <field field_ref="f" />
                        <field field_ref="pm" />
                        <field field_ref="pn" />
                        <field field_ref="lon_rho" />
                        <field field_ref="lat_rho" />
                        <field field_ref="lon_u" />
                        <field field_ref="lat_u" />
                        <field field_ref="lon_v" />
                        <field field_ref="lat_v" />
                        <field field_ref="angle" />
                        <field field_ref="mask_rho" />
                        <field field_ref="levels_rho" />
                        <field field_ref="levels_u" />
                        <field field_ref="levels_v" />
                        <field field_ref="levels_w" />
                        <!-- <field field_ref="Cs_r" />  -->
                        <!-- <field field_ref="sc_r" /> -->
                        <!-- <field field_ref="Cs_w" /> -->
                        <!-- <field field_ref="sc_w" /> -->
					</field_group>
					
					<field_group id="ave_fields" operation="average">
                        <field field_ref="zeta" />
                        <field field_ref="ubar" name="ubar"  />
                        <field field_ref="vbar" name="vbar"  />
                        <field field_ref="sustr" name="sustr"  />
                        <field field_ref="svstr" name="svstr"  />
                        <field field_ref="u" name="u" />
                        <field field_ref="v" name="v"  />
                        <field field_ref="w" name="w" />
                        <field field_ref="temp" name="T"  />
                        <field field_ref="salt" name="S"  />
                        <field field_ref="rho" name="rho"  />
					</field_group>

				</file>
			</file_group>
		</file_definition>

		<file_definition type="one_file"  name="@expname@_@freq@_@startdate@_@enddate@" sync_freq="1h" min_digits="4">		
			<file_group id="1ts" output_freq="1ts"  output_level="10" enabled=".TRUE."> <!-- 1 time step files -->
				<file id="file3" name_suffix="_inst_surf">
					<field_group id="grid_fields3" operation="once">
                        <field field_ref="hc" />
                        <field field_ref="theta_s" />
                        <field field_ref="theta_b" />
                        <field field_ref="Tcline" />
                        <field field_ref="Vtransform" />
                        <field field_ref="h" />
                        <field field_ref="f" />
                        <field field_ref="pm" />
                        <field field_ref="pn" />
                        <field field_ref="lon_rho" />
                        <field field_ref="lat_rho" />
                        <field field_ref="lon_u" />
                        <field field_ref="lat_u" />
                        <field field_ref="lon_v" />
                        <field field_ref="lat_v" />
                        <field field_ref="angle" />
                        <field field_ref="mask_rho" />
                        <field field_ref="levels_rho" />
                        <field field_ref="levels_u" />
                        <field field_ref="levels_v" />
                        <field field_ref="levels_w" />
                        <!-- <field field_ref="Cs_r" />  -->
                        <!-- <field field_ref="sc_r" /> -->
                        <!-- <field field_ref="Cs_w" /> -->
                        <!-- <field field_ref="sc_w" /> -->
					</field_group>
					
					<field_group id="surf_fields" operation="instant">
                        <field field_ref="zeta" name="zeta"/>
                        <field field_ref="u_surf" name="u_surf" />
                        <field field_ref="v_surf" name="v_surf" />
                        <field field_ref="temp_surf" name="T_surf" />
                        <field field_ref="salt_surf" name="S_surf" />
					</field_group>

				</file>
			</file_group>
		</file_definition>
		
		
		
		<!-- ========================================================================== -->
		<!-- ========================================================================== -->

		<domain_definition src="./domain_def.xml"/>

		<axis_definition>
			<axis id="s_rho"/>
			<axis id="s_w"/>
			<!-- For Sediment -->
			<axis id="s_b"/>
		</axis_definition>

		<scalar_definition>
			<scalar id="scalar"/>
		</scalar_definition>

		<grid_definition>
			<grid id="scalar_grid">
				<scalar scalar_ref="scalar"/>
			</grid>
			<grid id="rho_2D">
				<domain domain_ref="rho"/>
			</grid>
			<grid id="rho_3D">
				<domain domain_ref="rho"/>
				<axis axis_ref="s_rho"/>
			</grid>
			
			<grid id="u_2D">
				<domain domain_ref="u"/>
			</grid>
			<grid id="u_3D">
				<domain domain_ref="u"/>
				<axis axis_ref="s_rho"/>
			</grid>
			<grid id="v_2D">
				<domain domain_ref="v"/>
			</grid>
			<grid id="v_3D">
				<domain domain_ref="v"/>
				<axis axis_ref="s_rho"/>
			</grid>
			<grid id="w_2D">
				<domain domain_ref="w"/>
			</grid>
			<grid id="w_3D">
				<domain domain_ref="w"/>
				<axis axis_ref="s_w"/>
			</grid>
			<grid id="b_2D">
				<domain domain_ref="b"/>
			</grid>
			<grid id="b_3D">
				<domain domain_ref="b"/>
				<axis axis_ref="s_b"/>
			</grid>
			<grid id="rho_vertical_dimension">
				<axis axis_ref="s_rho"/>
			</grid>
			<grid id="w_vertical_dimension">
				<axis axis_ref="s_w"/>
			</grid>
		</grid_definition>

	</context>



	<context id="xios">
		<variable_definition>
			<variable_group id="buffer">
				<variable id="optimal_buffer_size" type="string">performance</variable>
				<variable id="buffer_size_factor" type="double">1.0</variable>
			</variable_group>

			<variable_group id="parameters" >
				<variable id="using_server" type="bool">true</variable>
				<variable id="info_level" type="int">0</variable>
				<variable id="print_file" type="bool">false</variable>
			</variable_group>
		</variable_definition>
	</context>

</simulation>
